<div class="embedded-content-config" ng-controller="DisPlay.Umbraco.EmbeddedContent.EmbeddedContentPrevaluesController as ctrl" ng-show="ctrl.ready">

  <div class="embedded-content__title-bar">
    <div class="embedded-content__title-bar-title">{{model.label}}</div>

    <div class="embedded-content__has-config" ng-if="ctrl.hasSettings()">
      <localize key="grid_settingsApplied" />
    </div>

    <div class="embedded-content__tools">
       <div class="embedded-content__tools-tool">
         <i class="icon icon-settings" title="@embeddedContent_settings" localize="title" ng-click="ctrl.editSettings()"></i>
       </div>
    </div>
  </div>

  <div class="control-group umb-control-group">
    <div class="embedded-content__item" ng-repeat="item in model.value.documentTypes">
      <div class="embedded-content__control-bar">
        <div class="embedded-content__item-title">
          <i class="icon {{item.icon}}"></i>
          <span>{{item.name}}</span>
          <small class="embedded-content__content-type-name">{{item.documentTypeAlias}}</small>
        </div>
        <div class="embedded-content__has-config" ng-if="item.hasConfig">
          <localize key="grid_settingsApplied" />
        </div>
        <div class="embedded-content__tools">
          <div class="embedded-content__tools-tool">
            <i class="icon icon-settings" title="@embeddedContent_settings" localize="title" ng-click="ctrl.editItemSettings(item, $event)"></i>
          </div>
          <div class="embedded-content__tools-tool">
            <i class="embedded-content__tools-icon icon-trash" ng-click="ctrl.togglePrompt(item)"></i>
            <umb-confirm-action
              ng-if="item.deletePrompt"
              direction="left"
              on-confirm="ctrl.remove($index)"
              on-cancel="ctrl.hidePrompt(item)">
            </umb-confirm-action>
          </div>
        </div>
      </div>
    </div>

    <div class="embedded-content__placeholder"
          ng-class="{'embedded-content__placeholder--small': model.value.documentTypes.length > 0}"
          ng-click="ctrl.openContentTypeOverlay($event)">
      <div class="embedded-content__add"><localize key="embeddedContent_addDocumentType" /></div>
    </div>
  </div>

  <umb-overlay
    ng-if="ctrl.contentTypeOverlay.show"
    model="ctrl.contentTypeOverlay"
    view="ctrl.contentTypeOverlay.view"
    position="target">
  </umb-overlay>

  <umb-overlay
    ng-if="ctrl.editSettingsOverlay.show"
    model="ctrl.editSettingsOverlay"
    view="ctrl.editSettingsOverlay.view"
    position="right">
  </umb-overlay>
<div>
